!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"runStarfield",(function(){return g}));const n=document.getElementById("starfield"),a=n.getContext("2d"),o=document.getElementById("fps"),s=document.getElementById("selectedOption"),i=new class{constructor(){this.stars=[]}addStar(){if(this.stars.length<750){const t={x:0,y:0,vx:10*Math.random()-5,vy:10*Math.random()-5};this.stars.push(t)}}updateStars(){const t=this.stars.length;for(let e=0;e<t;e++){const t=this.stars[e];t.x=t.x+t.vx,t.y=t.y+t.vy,(t.x>400||t.x<-400)&&(t.x=0,t.y=0),t.color=Math.floor((Math.abs(t.x)+Math.abs(t.y))/5)}}getStar(t){const{x:e,y:r,color:n}=this.stars[t];return[e,r,n]}clear(){this.stars=[]}};let l,c,u,f,d,y=0,b=0,m=0,p=0;const h=()=>{s.value!==u&&(c&&(c.clear(),y=0),c="Javascript"===s.value?i:l.instance.exports,u=s.value),setTimeout(h,0),a.clearRect(0,0,n.width,n.height),y<750&&(c.addStar(),y++),c.updateStars();for(let t=0;t<y;t++){let e=0,r=0,n=0;"Javascript"===s.value?[e,r,n]=c.getStar(t):(c.setStar(t),e=d[0],r=d[1],n=d[2]),a.fillStyle=`rgb(${n},${n},${n})`,a.beginPath(),a.arc(400+e,400+r,Math.abs(r/200+t/300),0,2*Math.PI),a.fill()}++h.frame%100||(console.log("gc"),l.instance.exports.__collect()),(()=>{const t=performance.now();b+=1,m>=1e3?(o.innerHTML=Math.floor(1e3*b/m),b=0,m=0):m+=t-p,p=t})()};h.frame=0;const g=async()=>{await(async()=>{const t={env:{abort(t,e,r,n){console.error(`Abort called at ${e}:${r}:${n}`)},seed:()=>1e64*Math.random(),visit(){}}};try{const e=fetch("build/optimized.wasm");l="function"==typeof WebAssembly.instantiateStreaming?await WebAssembly.instantiateStreaming(e,t):await WebAssembly.instantiate(await(await e).arrayBuffer(),t),f=l.instance.exports.memory,d=new Float64Array(f.buffer)}catch(t){console.error("Can't instantiate WebAssembly module.\n",t)}})(),l&&h()};g()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vanMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY29udGV4dCIsImdldENvbnRleHQiLCJmcHNFbGVtZW50Iiwic3RhcmZpZWxkSnMiLCJ0aGlzIiwic3RhcnMiLCJsZW5ndGgiLCJzdGFyIiwieCIsInkiLCJ2eCIsIk1hdGgiLCJyYW5kb20iLCJ2eSIsInB1c2giLCJjb2xvciIsImZsb29yIiwiYWJzIiwid2FzbUluc3RhbmNlIiwic3RhcmZpZWxkIiwibGFzdE9wdGlvbiIsIm1lbW9yeSIsIndhc21CeXRlTWVtb3J5QXJyYXkiLCJzdGFyQ291bnQiLCJmcHMiLCJhY2NUaW1lIiwibGFzdFRpbWUiLCJhbmltYXRlIiwiY2xlYXIiLCJpbnN0YW5jZSIsInNldFRpbWVvdXQiLCJjbGVhclJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImFkZFN0YXIiLCJ1cGRhdGVTdGFycyIsImdldFN0YXIiLCJzZXRTdGFyIiwiZmlsbFN0eWxlIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJmaWxsIiwiZnJhbWUiLCJjb25zb2xlIiwibG9nIiwiX19jb2xsZWN0Iiwibm93IiwicGVyZm9ybWFuY2UiLCJpbm5lckhUTUwiLCJ1cGRhdGVGUFMiLCJydW5TdGFyZmllbGQiLCJhc3luYyIsImltcG9ydHMiLCJlbnYiLCJfbXNnIiwiX2ZpbGUiLCJsaW5lIiwiY29sdW1uIiwiZXJyb3IiLCJzZWVkIiwicmVzcG9uc2UiLCJmZXRjaCIsIldlYkFzc2VtYmx5IiwiaW5zdGFudGlhdGVTdHJlYW1pbmciLCJpbnN0YW50aWF0ZSIsImFycmF5QnVmZmVyIiwiRmxvYXQ2NEFycmF5IiwiYnVmZmVyIiwiZSIsImZldGNoV2FzbSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUs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QUNEcEQsR0FJTFMsS0FHRndCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBTdGFyZmllbGQgfSBmcm9tICcuL2pzJ1xyXG5cclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJmaWVsZCcpXHJcbmNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxyXG5jb25zdCBmcHNFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZwcycpXHJcbmNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RlZE9wdGlvbicpXHJcbmNvbnN0IHN0YXJmaWVsZEpzID0gbmV3IFN0YXJmaWVsZCgpXHJcbmxldCB3YXNtSW5zdGFuY2VcclxubGV0IHN0YXJmaWVsZFxyXG5sZXQgbGFzdE9wdGlvblxyXG5sZXQgbWVtb3J5XHJcbmxldCB3YXNtQnl0ZU1lbW9yeUFycmF5XHJcbmxldCBzdGFyQ291bnQgPSAwXHJcbmxldCBmcHMgPSAwXHJcbmxldCBhY2NUaW1lID0gMFxyXG5sZXQgbGFzdFRpbWUgPSAwXHJcblxyXG5jb25zdCBmZXRjaFdhc20gPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgaW1wb3J0cyA9IHtcclxuICAgIGVudjoge1xyXG4gICAgICBhYm9ydChfbXNnLCBfZmlsZSwgbGluZSwgY29sdW1uKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgQWJvcnQgY2FsbGVkIGF0ICR7X2ZpbGV9OiR7bGluZX06JHtjb2x1bW59YClcclxuICAgICAgfSxcclxuICAgICAgc2VlZCgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIDFlNjRcclxuICAgICAgfSxcclxuICAgICAgdmlzaXQoKSB7fVxyXG4gICAgfVxyXG4gIH1cclxuICAvLyBJbnN0YW50aWF0ZSBvdXIgd2FzbSBtb2R1bGVcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBmZXRjaCgnYnVpbGQvb3B0aW1pemVkLndhc20nKVxyXG4gICAgaWYgKHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICB3YXNtSW5zdGFuY2UgPSBhd2FpdCBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXNwb25zZSwgaW1wb3J0cylcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHdhc21JbnN0YW5jZSA9IGF3YWl0IFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGF3YWl0IChhd2FpdCByZXNwb25zZSkuYXJyYXlCdWZmZXIoKSwgaW1wb3J0cylcclxuICAgIH1cclxuICAgIG1lbW9yeSA9IHdhc21JbnN0YW5jZS5pbnN0YW5jZS5leHBvcnRzLm1lbW9yeVxyXG4gICAgd2FzbUJ5dGVNZW1vcnlBcnJheSA9IG5ldyBGbG9hdDY0QXJyYXkobWVtb3J5LmJ1ZmZlcilcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGBDYW4ndCBpbnN0YW50aWF0ZSBXZWJBc3NlbWJseSBtb2R1bGUuXFxuYCwgZSlcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHVwZGF0ZUZQUyA9ICgpID0+IHtcclxuICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKVxyXG4gIGZwcyArPSAxXHJcbiAgaWYgKGFjY1RpbWUgPj0gMTAwMCkge1xyXG4gICAgZnBzRWxlbWVudC5pbm5lckhUTUwgPSBNYXRoLmZsb29yKCgxMDAwICogZnBzKSAvIGFjY1RpbWUpXHJcbiAgICBmcHMgPSAwXHJcbiAgICBhY2NUaW1lID0gMFxyXG4gIH0gZWxzZSB7XHJcbiAgICBhY2NUaW1lICs9IG5vdyAtIGxhc3RUaW1lXHJcbiAgfVxyXG4gIGxhc3RUaW1lID0gbm93XHJcbn1cclxuXHJcbmNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XHJcbiAgaWYgKG9wdGlvbi52YWx1ZSAhPT0gbGFzdE9wdGlvbikge1xyXG4gICAgaWYgKHN0YXJmaWVsZCkge1xyXG4gICAgICBzdGFyZmllbGQuY2xlYXIoKVxyXG4gICAgICBzdGFyQ291bnQgPSAwXHJcbiAgICB9XHJcbiAgICBzdGFyZmllbGQgPSBvcHRpb24udmFsdWUgPT09ICdKYXZhc2NyaXB0JyA/IHN0YXJmaWVsZEpzIDogd2FzbUluc3RhbmNlLmluc3RhbmNlLmV4cG9ydHNcclxuICAgIGxhc3RPcHRpb24gPSBvcHRpb24udmFsdWVcclxuICB9XHJcblxyXG4gIHNldFRpbWVvdXQoYW5pbWF0ZSwgMClcclxuXHJcbiAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSAvLyBjbGVhciB0aGUgZnJhbWVcclxuXHJcbiAgaWYgKHN0YXJDb3VudCA8IDc1MCkge1xyXG4gICAgc3RhcmZpZWxkLmFkZFN0YXIoKVxyXG4gICAgc3RhckNvdW50KytcclxuICB9XHJcbiAgc3RhcmZpZWxkLnVwZGF0ZVN0YXJzKClcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFyQ291bnQ7IGkrKykge1xyXG4gICAgbGV0IHggPSAwXHJcbiAgICBsZXQgeSA9IDBcclxuICAgIGxldCBjb2xvciA9IDBcclxuICAgIGlmIChvcHRpb24udmFsdWUgPT09ICdKYXZhc2NyaXB0Jykge1xyXG4gICAgICBbeCwgeSwgY29sb3JdID0gc3RhcmZpZWxkLmdldFN0YXIoaSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0YXJmaWVsZC5zZXRTdGFyKGkpXHJcbiAgICAgIHggPSB3YXNtQnl0ZU1lbW9yeUFycmF5WzBdXHJcbiAgICAgIHkgPSB3YXNtQnl0ZU1lbW9yeUFycmF5WzFdXHJcbiAgICAgIGNvbG9yID0gd2FzbUJ5dGVNZW1vcnlBcnJheVsyXVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVzZSB0aGUgY29sb3IgdmFsdWUgZm9yIHRoZSBSLCBHIGFuZCBCIGNvbXBvbmVudFxyXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBgcmdiKCR7Y29sb3J9LCR7Y29sb3J9LCR7Y29sb3J9KWBcclxuICAgIGNvbnRleHQuYmVnaW5QYXRoKClcclxuXHJcbiAgICAvLyBkcmF3IGEgY2lyY2xlXHJcbiAgICBjb250ZXh0LmFyYyg0MDAgKyB4LCA0MDAgKyB5LCBNYXRoLmFicyh5IC8gMjAwICsgaSAvIDMwMCksIDAsIDIgKiBNYXRoLlBJKVxyXG4gICAgY29udGV4dC5maWxsKClcclxuICB9XHJcblxyXG4gIGlmICghKCsrYW5pbWF0ZS5mcmFtZSAlIDEwMCkpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiZ2NcIilcclxuICAgIHdhc21JbnN0YW5jZS5pbnN0YW5jZS5leHBvcnRzLl9fY29sbGVjdCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRlBTKClcclxufVxyXG5hbmltYXRlLmZyYW1lID0gMFxyXG5cclxuZXhwb3J0IGNvbnN0IHJ1blN0YXJmaWVsZCA9IGFzeW5jICgpID0+IHtcclxuICBhd2FpdCBmZXRjaFdhc20oKVxyXG4gIGlmICghd2FzbUluc3RhbmNlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGFuaW1hdGUoKVxyXG59XHJcblxyXG5ydW5TdGFyZmllbGQoKVxyXG4iLCJleHBvcnQgY2xhc3MgU3RhcmZpZWxkIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc3RhcnMgPSBbXVxyXG4gIH1cclxuXHJcbiAgYWRkU3RhcigpIHtcclxuICAgIGlmICh0aGlzLnN0YXJzLmxlbmd0aCA8IDc1MCkge1xyXG4gICAgICAvLyBjcmVhdGUgYSBuZXcgc3RhciBpbiB0aGUgbWlkZGxlIHdpdGggcmFuZG9tIHZlbG9jaXR5XHJcbiAgICAgIGNvbnN0IHN0YXIgPSB7XHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiAwLFxyXG4gICAgICAgIHZ4OiAtNSArIE1hdGgucmFuZG9tKCkgKiAxMCxcclxuICAgICAgICB2eTogLTUgKyBNYXRoLnJhbmRvbSgpICogMTBcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnN0YXJzLnB1c2goc3RhcikgLy8gYWRkIHRoZSBzdGFyIHRvIHRoZSBhcnJheVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlU3RhcnMoKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSB0aGlzLnN0YXJzLmxlbmd0aFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBzdGFyID0gdGhpcy5zdGFyc1tpXVxyXG4gICAgICBzdGFyLnggPSBzdGFyLnggKyBzdGFyLnZ4IC8vIGFkZCB0aGUgdmVsb2NpdHkgdG8gdGhlIGN1cnJlbnQgcG9zaXRpb25cclxuICAgICAgc3Rhci55ID0gc3Rhci55ICsgc3Rhci52eSAvLyBpbiBib3RoIGF4bGVzXHJcbiAgICAgIGlmIChzdGFyLnggPiA0MDAgfHwgc3Rhci54IDwgLTQwMCkge1xyXG4gICAgICAgIC8vIGlmIHRoZSBzdGFyIGlzIG91dCBvZiBib3VuZHMgcHV0IGl0IGJhY2sgaW4gdGhlIGNlbnRlclxyXG4gICAgICAgIHN0YXIueCA9IDBcclxuICAgICAgICBzdGFyLnkgPSAwXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHNldCBjb2xvclxyXG4gICAgICBzdGFyLmNvbG9yID0gTWF0aC5mbG9vcigoTWF0aC5hYnMoc3Rhci54KSArIE1hdGguYWJzKHN0YXIueSkpIC8gNSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFN0YXIoaSkge1xyXG4gICAgY29uc3QgeyB4LCB5LCBjb2xvciB9ID0gdGhpcy5zdGFyc1tpXVxyXG4gICAgcmV0dXJuIFt4LCB5LCBjb2xvcl1cclxuICB9XHJcblxyXG4gIGNsZWFyKCkge1xyXG4gICAgdGhpcy5zdGFycyA9IFtdXHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=